classdef Layer < definitions.CIFWriter
    properties (SetAccess = private)
        layerId double                                  % The id of the layer (generated by a CIFFile instance)
        name string                                     % The name of the layer (as used by CleWin)
        styling (1, 2) string = ["0f808080" "0f808080"] % The optional styling of the layer, uses syntax of CleWin, will be updated later
    end
    
    methods
        function obj = Layer(fileHandle, layerId, name, styling)
            % Layer Create an instance of a Layer object that is responsible for managing the information about a layer type in a CIF design.
            arguments
                fileHandle int32                                    % The file handle to the CIF file
                layerId uint32                                      % The id of the layer (generated by a CIFFile instance)
                name string                                         % The name of the layer (as used by CleWin)
                styling (1, 2) string = ["0f808080" "0f808080"]     % The optional styling of the layer, uses syntax of CleWin, will be updated later
            end
            
            % Construct the superclass
            obj = obj@definitions.CIFWriter(fileHandle);
            
            obj.layerId = layerId;
            obj.name = name;
            obj.styling = styling;
        end
        
        function obj = printFile(obj)
            line = sprintf("L L%i; (CleWin: %i %s/%s %s);", obj.layerId, obj.layerId, obj.name, obj.styling(1), obj.styling(2));
            
            obj.write(line);
        end
    end
end
